      1                                 ;
      2                                 ; tests BMI
      3                                 ;
      4                                 ; uses instructions MOV, BPT, BR, HALT, ADD, and CMP
      5                                 ;
      6                                 ; uses addressing modes 0, 2, 6
      7                                 ;
      8 000000                                   .globl  start
      9                                 ;
     10 000000  000000                  v1:      .word   0
     11 000002  177777                  v2:      .word   177777
     12 000004  077777                  v3:      .word   077777
     13                                 ;
     14 000006  016701  177766          start:   mov     v1,r1
     15 000012  016702  177764                   mov     v2,r2
     16 000016  016703  177762                   mov     v3,r3
     17 000022  000003                           bpt
     18                                 ;
     19 000024  020103                           cmp     r1,r3
     20 000026  100402                           bmi     ok1
     21 000030  062700  000001          err1:    add     #1,r0
     22 000034                          ok1:
     23                                 ;
     24 000034  020301                           cmp     r3,r1
     25 000036  100401                           bmi     err2
     26 000040  000402                           br      ok2
     27 000042  062700  000002          err2:    add     #2,r0
     28 000046                          ok2:
     29                                 ;
     30 000046  020102                           cmp     r1,r2
     31 000050  100401                           bmi     err3
     32 000052  000402                           br      ok3
     33 000054  062700  000004          err3:    add     #4,r0
     34 000060                          ok3:
     35                                 ;
     36 000060  020201                           cmp     r2,r1
     37 000062  100402                           bmi     ok4
     38 000064  062700  000010          err4:    add     #10,r0
     39 000070                          ok4:
     40                                 ;
     41 000070  020302                           cmp     r3,r2   ; this one's funny
     42 000072  100402                           bmi     ok5
     43 000074  062700  000020          err5:    add     #20,r0
     44 000100                          ok5:
     45                                 ;
     46 000100  020203                           cmp     r2,r3
     47 000102  100402                           bmi     ok6
     48 000104  062700  000020          err6:    add     #20,r0
     49 000110                          ok6:
     50                                 ;
     51 000110  020101                           cmp     r1,r1
     52 000112  100401                           bmi     err7
     53 000114  000402                           br      ok7
     54 000116  062700  000040          err7:    add     #40,r0
     55 000122                          ok7:
     56                                 ;
     57 000122  000003                           bpt
     58 000124  000000                           halt
     59                                 ;
     60 000126  000006'                          .end    start


err1     000030 R  
err2     000042 R  
err3     000054 R  
err4     000064 R  
err5     000074 R  
err6     000104 R  
err7     000116 R  
ok1      000034 R  
ok2      000046 R  
ok3      000060 R  
ok4      000070 R  
ok5      000100 R  
ok6      000110 R  
ok7      000122 R  
pc     = 000007 %  
r0     = 000000 %  
r1     = 000001 %  
r2     = 000002 %  
r3     = 000003 %  
r4     = 000004 %  
r5     = 000005 %  
r6     = 000006 %  
r7     = 000007 %  
sp     = 000006 %  
start    000006 RG 
v1       000000 R  
v2       000002 R  
v3       000004 R  
